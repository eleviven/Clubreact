{"version":3,"sources":["src/slices/authSlice.ts","src/contexts/room/context.ts","src/store/persistConfig.ts","src/store/store.ts","src/contexts/theme/themes.ts","App.tsx","src/components/screen.tsx","src/screens/login.tsx","src/screens/verification-code.tsx","src/components/flex.tsx","src/components/touchable.tsx","src/assets/default-avatar.ts","src/components/room-mini-player.tsx","src/screens/home.tsx","src/screens/room/user-cell.tsx","src/utils/useInteractionManager.ts","src/screens/room/index.tsx","src/screens/user-profile.tsx","src/navigator.tsx","src/assets/fonts/Nunito/Nunito-Regular.ttf","src/assets/fonts/Nunito/Nunito-SemiBold.ttf","src/assets/fonts/Nunito/Nunito-Bold.ttf","src/assets/fonts/Nunito/Nunito-Light.ttf","src/utils/mock.js","src/contexts/rtcContext.tsx","src/contexts/theme/provider.tsx","src/contexts/room/provider.tsx","webpack:////Users/alirezarzna/Desktop/P/clubhouse-app/index.js?af07","src/contexts/theme/context.ts","src/utils/req.ts","src/slices/roomSlice.ts"],"names":["initialState","user_profile","access_token","auth_token","refresh_token","is_verified","is_waitlisted","is_onboarding","authSlice","createSlice","name","reducers","setAuth","state","action","payload","logout","authReducer","reducer","authActions","actions","RoomContext","React","createContext","rtc","pubnub","room","loading","useRoom","useContext","key","version","storage","AsyncStorage","whitelist","migrate","createMigrate","debug","stateReconciler","autoMergeLevel2","timeout","logger","createLogger","middleware","getDefaultMiddleware","serializableCheck","rootReducer","combineReducers","auth","roomReducer","persistedReducer","persistReducer","persistConfig","store","configureStore","persistor","persistStore","themes","defaultTheme","bg","bg2","fg","fg2","nightTheme","App","useFonts","require","loaded","style","styles","container","ref","global","Platform","OS","LogBox","ignoreLogs","StyleSheet","create","flex","backgroundColor","width","height","Screen","children","rest","theme","useTheme","console","log","SafeAreaView","title","fontSize","fontFamily","marginTop","inputContainer","borderRadius","flexDirection","alignItems","paddingHorizontal","input","textAlignVertical","button","justifyContent","buttonTitle","color","Login","useState","phonenumber","setPhonenumber","callingCode","cca2","currency","flag","region","subregion","country","setCountry","navigate","useNavigation","submitting","setSubmitting","toast","useToast","Text","View","countryCode","withFlag","withFilter","withAlphaFilter","withCallingCode","onSelect","containerButtonStyle","marginBottom","marginRight","visible","DEFAULT_THEME","TextInput","placeholder","onChangeText","value","keyboardType","TouchableOpacity","onPress","a","async","fullPhoneNumber","startsWith","slice","length","req","method","body","phone_number","res","json","resJson","ok","show","error_message","is_blocked","ActivityIndicator","size","MaterialCommunityIcons","textAlign","VerificationCode","route","verificationCode","setVerificationCode","dispatch","useDispatch","params","verification_code","number_of_attempts_remaining","Flex","justify","align","direction","Touchable","props","TouchableNativeFeedback","background","Ripple","position","bottom","right","left","borderTopRightRadius","borderTopLeftRadius","elevation","avatar","avatarsContainer","topic","RoomMiniPlayer","useSelector","currentRoom","channel_id","channel","Image","source","uri","users","photo_url","defaultAvatar","marginLeft","numberOfLines","header","channelsContainer","padding","shadowColor","shadowOffset","shadowOpacity","shadowRadius","channelTopic","channelBodyContainer","channelUserAvatar","channelUser1Avatar","top","channelUser2Avatar","channelUserName","channelUsersStatsContainer","channelUsersStats","Home","navigation","useQuery","getChannels","isLoading","data","error","refetch","authState","reset","toggleTheme","paddingTop","select","android","StatusBar","currentHeight","default","user_id","user","FlatList","channels","renderItem","item","index","map","num_all","num_speakers","contentContainerStyle","keyExtractor","refreshControl","RefreshControl","refreshing","onRefresh","userSmall","userName","userAvatar","userAvatarSmall","userAvatarSpeaking","borderWidth","borderColor","userMicContainer","memo","goBack","isSpeaking","speakingUsers","includes","isAudience","is_speaker","is_followed_by_speaker","toString","useInteractionManger","setLoading","useEffect","InteractionManager","runAfterInteractions","then","list","usersContainer","flexWrap","paddingVertical","sectionTitle","footer","leaveButton","leaveButtonTitle","raiseHandButton","Room","join","leave","isMounting","renderUser","audience","useMemo","filter","ListHeaderComponent","u","numColumns","removeClippedSubviews","getItemLayout","offset","disabled","username","followCount","followCountNumber","bio","inviterContainer","inviterAvatar","joinDate","inviter","UserProfileScreen","getUser","isCurrentUser","ScrollView","num_followers","num_following","twitter","instagram","invited_by_user_profile","dayjs","time_created","format","Stack","createStackNavigator","Navigator","NavigationContainer","screenOptions","headerShown","headerStyle","borderBottomWidth","headerTintColor","animationEnabled","cardStyleInterpolator","CardStyleInterpolators","forHorizontalIOS","component","options","UserProfile","module","exports","RtcContext","engine","RtcProvider","rtcEngine","initRtc","RtcEngine","createWithConfig","RtcEngineConfig","setDefaultAudioRoutetoSpeakerphone","enableAudioVolumeIndication","muteLocalAudioStream","setState","this","prevProps","destroy","Provider","Component","connect","ThemeProvider","currentThemeName","setCurrentThemeName","loadingTheme","setLoadingTheme","loadThemeFromStorage","setItem","setBarStyle","getItem","themeName","RoomProvider","setPubnub","leaveRoom","_channel","roomActions","setRoom","leaveChannel","removeAllListeners","unsubscribeAll","stop","setSpeakingUsers","initRTC","joinChannel","addListener","speakers","s","uid","token","initPubnub","pubnub_token","_pubnub","PubNub","publishKey","subscribeKey","authKey","uuid","origin","presenceTimeout","pubnub_heartbeat_value","heartbeatInterval","pubnub_heartbeat_interval","subscribe","message","handlePubnubMessage","status","event","msg","onPubnubUserJoined","onPubnubUserLeaved","addRoomUser","removeRoomUser","attribution_source","attribution_details","queryClient","QueryClient","registerRootComponent","client","ThemeContext","HEADERS","Accept","Connection","Host","path","opts","getState","fetch","headers","JSON","stringify","undefined","roomSlice","push"],"mappings":"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","file":"static/js/app.c98fe778.chunk.js","sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { LoginUserProfile, LoginResult } from \"../models/user\";\n\nexport interface AuthState {\n  user_profile: LoginUserProfile | null;\n  access_token: string | null;\n  auth_token: string | null;\n  refresh_token: string | null;\n  is_verified: boolean;\n  is_waitlisted: boolean;\n  is_onboarding: boolean;\n}\n\nconst initialState: AuthState = {\n  user_profile: null,\n  access_token: null,\n  auth_token: null,\n  refresh_token: null,\n  is_verified: false,\n  is_waitlisted: false,\n  is_onboarding: false,\n};\n\nconst authSlice = createSlice({\n  name: \"app\",\n  initialState,\n  reducers: {\n    setAuth(state, action: PayloadAction<LoginResult>) {\n      state.user_profile = action.payload.user_profile;\n      state.access_token = action.payload.access_token;\n      state.auth_token = action.payload.auth_token;\n      state.refresh_token = action.payload.refresh_token;\n      state.is_verified = action.payload.is_verified;\n      state.is_waitlisted = action.payload.is_waitlisted;\n      state.is_onboarding = action.payload.is_onboarding;\n    },\n    logout(state) {\n      state = Object.assign(state, initialState);\n    },\n  },\n});\n\nexport const authReducer = authSlice.reducer;\n\nexport const authActions = authSlice.actions;\n","import Pubnub from \"pubnub\";\nimport React, { useContext } from \"react\";\nimport RtcEngine from \"react-native-agora\";\nimport { Channel } from \"../../models/channel\";\n\nexport interface ContextValue {\n  rtc: RtcEngine | null;\n  pubnub: Pubnub | null;\n  room: Channel | null;\n  loading: boolean;\n  join?(channel: string): Promise<Channel>;\n  leave?(): void;\n}\n\nexport const RoomContext = React.createContext({\n  rtc: null,\n  pubnub: null,\n  room: null,\n  loading: true,\n} as ContextValue);\n\nexport const useRoom = () => useContext(RoomContext);\n","import AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { createMigrate } from \"redux-persist\";\nimport autoMergeLevel2 from \"redux-persist/lib/stateReconciler/autoMergeLevel2\";\n\nconst migrations = {};\n\nexport default {\n  key: \"root\",\n  version: 1,\n  storage: AsyncStorage,\n  whitelist: [\"auth\"],\n  migrate: createMigrate(migrations, { debug: false }),\n  stateReconciler: autoMergeLevel2,\n  timeout: null,\n};\n","import {\n  combineReducers,\n  configureStore,\n  getDefaultMiddleware,\n} from \"@reduxjs/toolkit\";\nimport { createLogger } from \"redux-logger\";\nimport { persistReducer, persistStore } from \"redux-persist\";\nimport persistConfig from \"./persistConfig\";\nimport { authReducer } from \"../slices/authSlice\";\nimport { roomReducer } from \"../slices/roomSlice\";\n\nconst logger = createLogger();\nconst middleware = [\n  ...getDefaultMiddleware({ serializableCheck: false }),\n  logger,\n];\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  room: roomReducer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n\nconst persistedReducer = persistReducer<RootState>(persistConfig, rootReducer);\n\nexport const store = configureStore({\n  reducer: persistedReducer,\n  middleware,\n});\n\nexport const persistor = persistStore(store);\n","export interface Theme {\n  name: string;\n  bg: string;\n  bg2: string;\n  fg: string;\n  fg2: string;\n}\n\nconst defaultTheme: Theme = {\n  name: \"defaultTheme\",\n  bg: \"#F0F0E3\",\n  bg2: \"#FFFFFF\",\n  fg: \"#454245\",\n  fg2: \"#9c9c9c\",\n};\n\nconst nightTheme: Theme = {\n  name: \"nightTheme\",\n  bg: \"#16171C\",\n  bg2: \"#202126\",\n  fg: \"#eee\",\n  fg2: \"#ccc\",\n};\n\nexport const themes = {\n  defaultTheme,\n  nightTheme,\n};\n","import { StatusBar } from \"expo-status-bar\";\nimport { useFonts } from \"expo-font\";\nimport React from \"react\";\nimport { Platform, StyleSheet, View } from \"react-native\";\nimport Navigator from \"./src/navigator\";\nimport { LogBox } from \"react-native\";\nimport Toast from \"react-native-fast-toast\";\nimport RoomMiniPlayer from \"./src/components/room-mini-player\";\n\n// This log comes from rtc/pubnub depencency\nPlatform.OS !== \"web\" &&\n  LogBox.ignoreLogs([\"Setting a timer for a long period of time\"]);\n\nexport default function App() {\n  const [loaded, error] = useFonts({\n    \"Nunito-Regular\": require(\"./src/assets/fonts/Nunito/Nunito-Regular.ttf\"),\n    \"Nunito-SemiBold\": require(\"./src/assets/fonts/Nunito/Nunito-SemiBold.ttf\"),\n    \"Nunito-Bold\": require(\"./src/assets/fonts/Nunito/Nunito-Bold.ttf\"),\n    \"Nunito-Light\": require(\"./src/assets/fonts/Nunito/Nunito-Light.ttf\"),\n  });\n  if (!loaded) return null;\n\n  return (\n    <View style={styles.container}>\n      <Navigator />\n      <StatusBar style=\"auto\" />\n      <Toast ref={(ref) => (global[\"toast\"] = ref)} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n  },\n});\n","import React, { FC } from \"react\";\nimport { Platform, SafeAreaView, StyleSheet, ViewProps } from \"react-native\";\nimport { useTheme } from \"../contexts/theme/context\";\n\ninterface Props extends ViewProps {}\n\nconst Screen: FC<Props> = ({ children, style, ...rest }) => {\n  const { theme } = useTheme();\n  console.log(\"theme\", theme);\n  return (\n    <SafeAreaView\n      style={[styles.container, { backgroundColor: theme.bg }, style]}\n      {...rest}\n    >\n      {children}\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    width: \"100%\",\n    height: \"100%\",\n  },\n});\n\nexport default Screen;\n","import React, { useState } from \"react\";\nimport {\n  ActivityIndicator,\n  StyleSheet,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport Screen from \"../components/screen\";\nimport req from \"../utils/req\";\nimport { useNavigation } from \"@react-navigation/core\";\nimport CountryPicker, {\n  Country,\n  DEFAULT_THEME,\n} from \"react-native-country-picker-modal\";\nimport { useToast } from \"react-native-fast-toast\";\n\nconst Login = () => {\n  const [phonenumber, setPhonenumber] = useState(\"\");\n  const [country, setCountry] = useState<Country>({\n    callingCode: [\"1\"],\n    cca2: \"US\",\n    currency: [\"USD\"],\n    flag: \"flag-us\",\n    name: \"United States\",\n    region: \"Americas\",\n    subregion: \"North America\",\n  });\n  const { navigate } = useNavigation();\n  const [submitting, setSubmitting] = useState(false);\n  const toast = useToast();\n\n  const requestCode = async () => {\n    let fullPhoneNumber = \"\";\n    if (phonenumber.startsWith(\"0\")) {\n      fullPhoneNumber = phonenumber.slice(1, phonenumber.length);\n    } else {\n      fullPhoneNumber = phonenumber;\n    }\n    fullPhoneNumber = `+${country.callingCode[0]}${fullPhoneNumber}`;\n    console.log(\"fullPhoneNumber\", fullPhoneNumber);\n\n    setSubmitting(true);\n    let res = await req(\"/start_phone_number_auth\", {\n      method: \"POST\",\n      body: { phone_number: fullPhoneNumber },\n    });\n    console.log(res);\n    const resJson = await res.json();\n    if (res.ok) {\n      if (resJson.is_waitlisted) {\n        return toast?.show(\"You need to get invited by someone first\");\n      }\n      navigate(\"VerificationCode\", { phonenumber: fullPhoneNumber });\n    } else {\n      resJson?.error_message && toast?.show(resJson?.error_message);\n      resJson?.is_blocked &&\n        toast?.show(\"You are blocked from using clubhouse\");\n    }\n    setSubmitting(false);\n  };\n\n  return (\n    <Screen style={{ alignItems: \"center\" }}>\n      <Text style={styles.title}>Enter your phone</Text>\n      <View style={styles.inputContainer}>\n        <CountryPicker\n          countryCode={country.cca2}\n          withFlag\n          withFilter\n          withAlphaFilter\n          withCallingCode\n          onSelect={(country: Country) => {\n            console.log(\"selected country\", country);\n            setCountry(country);\n          }}\n          containerButtonStyle={{\n            marginTop: -6,\n            marginBottom: -8,\n            marginRight: -4,\n          }}\n          visible={false}\n          theme={{ ...DEFAULT_THEME, backgroundColor: \"#f2efe4\" }}\n        />\n        <Text style={{ fontFamily: '\"Nunito-Regular', fontSize: 15 }}>\n          +{country.callingCode[0]}\n        </Text>\n        <TextInput\n          placeholder=\"Phone Number\"\n          onChangeText={setPhonenumber}\n          style={styles.input}\n          value={phonenumber}\n          keyboardType=\"numeric\"\n        />\n      </View>\n      <TouchableOpacity style={styles.button} onPress={requestCode}>\n        {submitting ? (\n          <ActivityIndicator size=\"small\" color=\"#fff\" />\n        ) : (\n          <>\n            <Text style={styles.buttonTitle}>Next</Text>\n            <MaterialCommunityIcons\n              name=\"chevron-right\"\n              size={22}\n              color=\"#fff\"\n            />\n          </>\n        )}\n      </TouchableOpacity>\n    </Screen>\n  );\n};\n\nconst styles = StyleSheet.create({\n  title: {\n    fontSize: 25,\n    fontFamily: \"Nunito-Light\",\n    marginTop: 100,\n  },\n  inputContainer: {\n    backgroundColor: \"#fff\",\n    width: \"70%\",\n    height: 40,\n    marginTop: 56,\n    borderRadius: 4,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingHorizontal: 8,\n  },\n  input: {\n    fontSize: 15,\n    fontFamily: \"Nunito-Regular\",\n    width: \"100%\",\n    height: \"100%\",\n    textAlignVertical: \"center\",\n    marginTop: 4,\n  },\n  button: {\n    width: 175,\n    backgroundColor: \"#5576AB\",\n    height: 46,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    marginTop: 72,\n    borderRadius: 24,\n  },\n  buttonTitle: {\n    color: \"#fff\",\n    fontFamily: \"Nunito-SemiBold\",\n    fontSize: 18,\n  },\n});\n\nexport default Login;\n","import React, { FC, useState } from \"react\";\nimport {\n  StyleSheet,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport Screen from \"../components/screen\";\nimport req from \"../utils/req\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { RouteProp, useNavigation } from \"@react-navigation/native\";\nimport { StackNavigationProp } from \"@react-navigation/stack\";\nimport { StackParamList } from \"../navigator\";\n\nimport { useDispatch } from \"react-redux\";\nimport { authActions } from \"../slices/authSlice\";\nimport { ActivityIndicator } from \"react-native\";\nimport { useToast } from \"react-native-fast-toast\";\nimport { LoginResult } from \"../models/user\";\n\ninterface Props {\n  route: RouteProp<StackParamList, \"VerificationCode\">;\n  navigation: StackNavigationProp<StackParamList, \"VerificationCode\">;\n}\n\nconst VerificationCode: FC<Props> = ({ route }) => {\n  const [verificationCode, setVerificationCode] = useState(\"\");\n  const navigation = useNavigation();\n  const dispatch = useDispatch();\n  const [submitting, setSubmitting] = useState(false);\n  const toast = useToast();\n\n  const verifyCode = async () => {\n    console.log(\"phonenumber\", route.params.phonenumber);\n    if (!verificationCode)\n      return toast?.show(\"Please enter the verification code\");\n    setSubmitting(true);\n    const res = await req(\"/complete_phone_number_auth\", {\n      method: \"POST\",\n      body: {\n        phone_number: route.params.phonenumber,\n        verification_code: verificationCode,\n      },\n    });\n    const resJson: LoginResult = await res.json();\n    console.log(\"login result\", resJson);\n    if (res.ok) {\n      dispatch(authActions.setAuth(resJson));\n    } else {\n      !resJson.is_verified &&\n        toast?.show(\n          \"The code you entered was incorrect, remaining attempts: \" +\n            resJson.number_of_attempts_remaining\n        );\n    }\n    setSubmitting(false);\n  };\n\n  return (\n    <Screen style={{ alignItems: \"center\" }}>\n      <Text style={styles.title}>{`Enter the code \\n we just texted you`}</Text>\n      <View style={styles.inputContainer}>\n        <TextInput\n          placeholder=\"Verification Code\"\n          onChangeText={setVerificationCode}\n          style={styles.input}\n          keyboardType=\"numeric\"\n        />\n      </View>\n      <TouchableOpacity style={styles.button} onPress={verifyCode}>\n        {submitting ? (\n          <ActivityIndicator size=\"small\" color=\"#fff\" />\n        ) : (\n          <>\n            <Text style={styles.buttonTitle}>Next</Text>\n            <MaterialCommunityIcons\n              name=\"chevron-right\"\n              size={22}\n              color=\"#fff\"\n            />\n          </>\n        )}\n      </TouchableOpacity>\n    </Screen>\n  );\n};\n\nconst styles = StyleSheet.create({\n  title: {\n    fontSize: 25,\n    fontFamily: \"Nunito-Light\",\n    marginTop: \"25%\",\n    textAlign: \"center\",\n  },\n  inputContainer: {\n    backgroundColor: \"#fff\",\n    width: \"70%\",\n    height: 40,\n    marginTop: 56,\n    borderRadius: 4,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingHorizontal: 8,\n  },\n  input: {\n    fontSize: 17,\n    fontFamily: \"Nunito-Regular\",\n    width: \"100%\",\n  },\n  button: {\n    width: 175,\n    backgroundColor: \"#5576AB\",\n    height: 45,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    marginTop: 72,\n    borderRadius: 24,\n  },\n  buttonTitle: {\n    color: \"#fff\",\n    fontFamily: \"Nunito-SemiBold\",\n    fontSize: 18,\n  },\n});\n\nexport default VerificationCode;\n","import React, { FC } from \"react\";\nimport { View, ViewProps, ViewStyle } from \"react-native\";\n\ninterface Props extends ViewProps {\n  justify?: ViewStyle[\"justifyContent\"];\n  align?: ViewStyle[\"alignItems\"];\n  direction?: ViewStyle[\"flexDirection\"];\n  flex?: ViewStyle[\"flex\"];\n}\n\nconst Flex: FC<Props> = ({\n  justify,\n  align,\n  direction,\n  style,\n  flex,\n  children,\n  ...rest\n}) => (\n  <View\n    style={[\n      {\n        flex,\n        justifyContent: justify,\n        alignItems: align,\n        flexDirection: direction,\n      },\n      style,\n    ]}\n    {...rest}\n  >\n    {children}\n  </View>\n);\n\nexport default Flex;\n","import React, { FC } from \"react\";\nimport {\n  Platform,\n  StyleSheet,\n  TouchableNativeFeedback,\n  TouchableOpacity,\n  TouchableOpacityProps,\n  View,\n} from \"react-native\";\n\nconst Touchable: FC<TouchableOpacityProps> = ({\n  children,\n  style,\n  ...props\n}) => {\n  if (Platform.OS === \"android\") {\n    return (\n      <TouchableNativeFeedback\n        background={TouchableNativeFeedback.Ripple(\"rgba(0,0,0,.2)\", false)}\n        {...props}\n      >\n        <View style={style}>{children}</View>\n      </TouchableNativeFeedback>\n    );\n  }\n  return <TouchableOpacity {...props} />;\n};\n\nconst styles = StyleSheet.create({\n  container: {},\n});\n\nexport default Touchable;\n","export default \"data:image/jpeg;base64,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\";\n","import { useNavigation } from \"@react-navigation/core\";\nimport React from \"react\";\nimport { Image, StyleSheet, Text, View } from \"react-native\";\nimport { useSelector } from \"react-redux\";\nimport defaultAvatar from \"../assets/default-avatar\";\nimport { useRoom } from \"../contexts/room/context\";\nimport { useTheme } from \"../contexts/theme/context\";\nimport { RootState } from \"../store/store\";\nimport Touchable from \"./touchable\";\n\nconst RoomMiniPlayer = () => {\n  const room = useSelector((state: RootState) => state.room.currentRoom);\n  const { navigate } = useNavigation();\n  const { theme } = useTheme();\n\n  if (!room) return null;\n\n  return (\n    <Touchable\n      style={[styles.container, { backgroundColor: theme.bg2 }]}\n      onPress={() =>\n        navigate(\"Room\", {\n          channel_id: room?.channel_id,\n          channel: room?.channel,\n        })\n      }\n    >\n      <View style={styles.avatarsContainer}>\n        <Image\n          source={{ uri: room?.users[0]?.photo_url ?? defaultAvatar }}\n          style={styles.avatar}\n        />\n        <Image\n          source={{ uri: room?.users[1]?.photo_url ?? defaultAvatar }}\n          style={[styles.avatar, { marginLeft: -8 }]}\n        />\n        <Image\n          source={{ uri: room?.users[2]?.photo_url ?? defaultAvatar }}\n          style={[styles.avatar, { marginLeft: -8 }]}\n        />\n      </View>\n      <Text numberOfLines={1} style={[styles.topic, { color: theme.fg }]}>\n        {room?.topic}\n      </Text>\n    </Touchable>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    position: \"absolute\",\n    bottom: 0,\n    right: 0,\n    left: 0,\n    height: 64,\n    backgroundColor: \"red\",\n    borderTopRightRadius: 40,\n    borderTopLeftRadius: 40,\n    paddingHorizontal: 16,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    width: \"100%\",\n    elevation: 10,\n  },\n  avatar: {\n    height: 36,\n    width: 36,\n    borderRadius: 20,\n  },\n  avatarsContainer: {\n    height: \"100%\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginRight: 16,\n  },\n  topic: {\n    fontFamily: \"Nunito-Regular\",\n    flex: 1,\n  },\n});\n\nexport default RoomMiniPlayer;\n","import React, { FC, useState } from \"react\";\nimport {\n  Image,\n  StyleSheet,\n  Text,\n  View,\n  FlatList,\n  RefreshControl,\n  Platform,\n  StatusBar,\n  TouchableOpacity,\n  TouchableNativeFeedback,\n  processColor,\n} from \"react-native\";\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport Screen from \"../components/screen\";\nimport { Channel, GetChannelsResult } from \"../models/channel\";\nimport req from \"../utils/req\";\nimport Flex from \"../components/flex\";\nimport { useQuery } from \"react-query\";\nimport { CommonActions, useNavigation } from \"@react-navigation/core\";\nimport { authActions } from \"../slices/authSlice\";\nimport { StackNavigationProp } from \"@react-navigation/stack\";\nimport { StackParamList } from \"../navigator\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Touchable from \"../components/touchable\";\nimport { useTheme } from \"../contexts/theme/context\";\nimport { RootState } from \"../store/store\";\nimport RoomMiniPlayer from \"../components/room-mini-player\";\nimport defaultAvatar from \"../assets/default-avatar\";\n\ninterface Props {\n  navigation: StackNavigationProp<StackParamList, \"Home\">;\n}\n\nconst Home: FC<Props> = ({ navigation }) => {\n  const { isLoading, error, data, refetch } = useQuery(\"channels\", () =>\n    getChannels()\n  );\n  const authState = useSelector((state: RootState) => state.auth);\n  const { navigate, reset } = useNavigation();\n  const dispatch = useDispatch();\n  const { theme, toggleTheme } = useTheme();\n\n  const getChannels = async () => {\n    const res = await req(\"/get_channels\");\n    const resJson: GetChannelsResult = await res.json();\n    return resJson;\n  };\n\n  const renderChannel = ({ item, index }: { item: Channel; index: number }) => (\n    <Touchable\n      key={item.channel}\n      onPress={() =>\n        navigate(\"Room\", { channel_id: item.channel_id, channel: item.channel })\n      }\n      style={[styles.channel, { backgroundColor: theme.bg2 }]}\n    >\n      <Text style={[styles.channelTopic, { color: theme.fg }]}>\n        {item.topic}\n      </Text>\n      <View style={styles.channelBodyContainer}>\n        <View style={{ width: 72, height: 72, marginRight: 16 }}>\n          <Image\n            source={{ uri: item.users[0]?.photo_url ?? defaultAvatar }}\n            style={[styles.channelUserAvatar, styles.channelUser1Avatar]}\n          />\n\n          <Image\n            source={{ uri: item.users[1]?.photo_url ?? defaultAvatar }}\n            style={[styles.channelUserAvatar]}\n          />\n        </View>\n        <View>\n          {item.users.map((user) => (\n            <Flex key={user.user_id} direction=\"row\" align=\"center\">\n              <Text style={[styles.channelUserName, { color: theme.fg }]}>\n                {user.name}\n              </Text>\n              {false && (\n                <MaterialCommunityIcons\n                  name=\"message-processing-outline\"\n                  size={14}\n                  color={theme.fg2}\n                />\n              )}\n            </Flex>\n          ))}\n          <View style={styles.channelUsersStatsContainer}>\n            <Text style={[styles.channelUsersStats, { color: theme.fg2 }]}>\n              {item.num_all}{\" \"}\n              <MaterialCommunityIcons\n                name=\"account\"\n                size={14}\n                color={theme.fg2}\n              />\n              {\" \" + \"/\" + \" \"}\n              {item.num_speakers}{\" \"}\n              <MaterialCommunityIcons\n                name=\"message-processing\"\n                size={12.5}\n                color={theme.fg2}\n                style={{ marginLeft: 4 }}\n              />\n            </Text>\n          </View>\n        </View>\n      </View>\n    </Touchable>\n  );\n\n  return (\n    <Screen\n      style={{\n        paddingTop: Platform.select({\n          android: StatusBar.currentHeight,\n          default: 0,\n        }),\n      }}\n    >\n      <View style={styles.header}>\n        <Touchable onPress={toggleTheme} style={{ marginRight: 16 }}>\n          <MaterialCommunityIcons\n            name=\"theme-light-dark\"\n            size={28}\n            color={theme.fg}\n          />\n        </Touchable>\n        <TouchableOpacity\n          onPress={() =>\n            navigate(\"UserProfile\", {\n              user_id: authState.user_profile?.user_id,\n              user: authState.user_profile,\n            })\n          }\n        >\n          <Image\n            source={{\n              uri: authState.user_profile?.photo_url ?? defaultAvatar,\n            }}\n            style={styles.avatar}\n          />\n        </TouchableOpacity>\n      </View>\n      <FlatList\n        data={data?.channels}\n        renderItem={renderChannel}\n        contentContainerStyle={styles.channelsContainer}\n        keyExtractor={(item) => item.channel}\n        refreshControl={\n          <RefreshControl refreshing={isLoading} onRefresh={refetch} />\n        }\n      />\n      <RoomMiniPlayer />\n    </Screen>\n  );\n};\n\nconst styles = StyleSheet.create({\n  header: {\n    height: 64,\n    width: \"100%\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n  },\n  avatar: {\n    height: 32,\n    width: 32,\n    backgroundColor: \"#fff\",\n    borderRadius: 22,\n    marginLeft: \"auto\",\n    marginRight: 16,\n  },\n  channelsContainer: {\n    paddingHorizontal: 16,\n  },\n  channel: {\n    width: \"100%\",\n    backgroundColor: \"#FEFCFF\",\n    marginBottom: 16,\n    borderRadius: 16,\n    padding: 16,\n    shadowColor: \"rgba(0,0,0,5)\",\n    shadowOffset: {\n      width: 0,\n      height: 1,\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 0.1,\n\n    elevation: 1,\n  },\n  channelTopic: {\n    fontFamily: \"Nunito-Bold\",\n    color: \"#454245\",\n    fontSize: 15,\n  },\n  channelBodyContainer: {\n    flexDirection: \"row\",\n    marginTop: 16,\n  },\n  channelUserAvatar: {\n    height: 40,\n    width: 40,\n    borderRadius: 16,\n  },\n  channelUser1Avatar: {\n    position: \"absolute\",\n    top: 16,\n    right: 0,\n  },\n  channelUser2Avatar: {\n    position: \"absolute\",\n    bottom: 16,\n    left: 0,\n  },\n  channelUserName: {\n    fontFamily: \"Nunito-SemiBold\",\n    fontSize: 17,\n    color: \"#49464A\",\n  },\n  channelUsersStatsContainer: {\n    marginTop: 8,\n  },\n  channelUsersStats: {\n    fontFamily: \"Nunito-SemiBold\",\n    color: \"#49464A\",\n  },\n});\n\nexport default Home;\n","import { useNavigation } from \"@react-navigation/native\";\nimport React, { FC, memo, useMemo } from \"react\";\nimport { View, Image, StyleSheet, Text } from \"react-native\";\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport defaultAvatar from \"../../assets/default-avatar\";\nimport Touchable from \"../../components/touchable\";\nimport { useRoom } from \"../../contexts/room/context\";\nimport { User } from \"../../models/channel\";\nimport { useTheme } from \"../../contexts/theme/context\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../../store/store\";\n\ninterface Props {\n  user: User;\n}\n\nconst UserCell: FC<Props> = ({ user }) => {\n  const { goBack, navigate } = useNavigation();\n  const isSpeaking = useSelector((state: RootState) =>\n    state.room.speakingUsers.includes(user.user_id)\n  );\n  const { theme } = useTheme();\n\n  const isAudience = !user.is_speaker && !user.is_followed_by_speaker;\n  return (\n    <Touchable\n      style={[\n        styles.user,\n        { backgroundColor: theme.bg2 },\n        isAudience && styles.userSmall,\n      ]}\n      onPress={() =>\n        navigate(\"UserProfile\", { user_id: user.user_id, user: user })\n      }\n      key={user.user_id.toString()}\n    >\n      <View\n        style={[\n          styles.userAvatar,\n          isAudience && styles.userAvatarSmall,\n          isSpeaking && styles.userAvatarSpeaking,\n        ]}\n      >\n        <Image\n          source={{\n            uri: user.photo_url ?? defaultAvatar,\n          }}\n          style={[\n            {\n              height: \"100%\",\n              width: \"100%\",\n              borderRadius: styles.userAvatar[\"borderRadius\"],\n            },\n            isAudience && styles.userAvatarSmall,\n          ]}\n        />\n        {user.is_speaker && (\n          <View\n            style={[styles.userMicContainer, { backgroundColor: theme.bg2 }]}\n          >\n            <MaterialCommunityIcons\n              name=\"microphone\"\n              size={18}\n              color={theme.fg}\n            />\n          </View>\n        )}\n      </View>\n\n      <Text style={[styles.userName, { color: theme.fg }]}>{user.name}</Text>\n    </Touchable>\n  );\n};\n\nconst styles = StyleSheet.create({\n  user: {\n    width: 100 / 3 + \"%\",\n    alignItems: \"center\",\n    marginBottom: 24,\n    height: 110,\n  },\n  userSmall: {\n    width: 100 / 4 + \"%\",\n    height: 110,\n  },\n  userName: {\n    fontFamily: \"Nunito-Bold\",\n    color: \"#4e4b4e\",\n    fontSize: 13,\n    marginTop: 8,\n    textAlign: \"center\",\n  },\n  userAvatar: {\n    borderRadius: 72 / 2.5,\n    width: 72,\n    height: 72,\n  },\n  userAvatarSmall: {\n    borderRadius: 28,\n    width: 54,\n    height: 54,\n  },\n  userAvatarSpeaking: {\n    borderWidth: 3,\n    borderColor: \"#CCCBC5\",\n    padding: 3,\n    borderRadius: 34,\n  },\n  userMicContainer: {\n    position: \"absolute\",\n    bottom: 0,\n    right: 0,\n    backgroundColor: \"#FEFCFF\",\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n});\n\nexport default memo(UserCell);\n","import React, { useEffect, useState } from \"react\";\nimport { InteractionManager } from \"react-native\";\n\nconst useInteractionManger = () => {\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    InteractionManager.runAfterInteractions().then(() => {\n      setLoading(false);\n    });\n  }, []);\n  return loading;\n};\n\nexport default useInteractionManger;\n","import { RouteProp, useNavigation } from \"@react-navigation/native\";\nimport React, { FC, useEffect, useMemo } from \"react\";\nimport { ActivityIndicator, StyleSheet, Text, View } from \"react-native\";\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport Screen from \"../../components/screen\";\nimport { User } from \"../../models/channel\";\nimport { StackParamList } from \"../../navigator\";\nimport { FlatList, TouchableOpacity } from \"react-native-gesture-handler\";\nimport { useTheme } from \"../../contexts/theme/context\";\nimport { useRoom } from \"../../contexts/room/context\";\nimport UserCell from \"./user-cell\";\nimport useInteractionManger from \"../../utils/useInteractionManager\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../../store/store\";\n\ninterface Props {\n  route: RouteProp<StackParamList, \"Room\">;\n}\n\nconst Room: FC<Props> = ({ route }) => {\n  const { loading, rtc, pubnub, join, leave } = useRoom();\n  const room = useSelector((state: RootState) => state.room.currentRoom);\n  const isMounting = useInteractionManger();\n\n  useEffect(() => {\n    join && join(route.params.channel);\n  }, []);\n  const { goBack, navigate } = useNavigation();\n  const { theme } = useTheme();\n\n  const renderUser = (user: User) => <UserCell user={user} />;\n\n  // const speakers = useMemo(\n  //   () => room?.users.filter((user) => user.is_speaker),\n  //   [room?.users.length]\n  // );\n  // const followedBySpeakers = useMemo(\n  //   () =>\n  //     room?.users.filter(\n  //       (user) => !user.is_speaker && user.is_followed_by_speaker\n  //     ),\n  //   [room?.users.length]\n  // );\n  const audience = useMemo(\n    () =>\n      room?.users.filter(\n        (user) => !user.is_speaker && !user.is_followed_by_speaker\n      ),\n    [room?.users.length]\n  );\n\n  const renderItem = ({ item }: any) => renderUser(item);\n\n  const getItemLayout = (data, index) => ({\n    length: 110,\n    offset: 110 * index,\n    index,\n  });\n\n  return (\n    <Screen>\n      <View style={[styles.body, { backgroundColor: theme.bg2 }]}>\n        {loading || isMounting ? (\n          <ActivityIndicator size=\"large\" color={theme.fg2} />\n        ) : (\n          <FlatList\n            contentContainerStyle={[styles.list]}\n            ListHeaderComponent={\n              loading ? null : (\n                <>\n                  <Text style={[styles.topic, { color: theme.fg }]}>\n                    {room?.topic}\n                  </Text>\n                  <View style={styles.usersContainer}>\n                    {room?.users?.map((u) => u.is_speaker && renderUser(u))}\n                  </View>\n                  <Text style={[styles.sectionTitle, { color: theme.fg2 }]}>\n                    Followed by speakers\n                  </Text>\n                  <View style={styles.usersContainer}>\n                    {room?.users?.map(\n                      (u) => u.is_followed_by_speaker && renderUser(u)\n                    )}\n                  </View>\n                  <Text\n                    style={[\n                      styles.sectionTitle,\n                      { marginBottom: 24, color: theme.fg2 },\n                    ]}\n                  >\n                    Audience ({audience?.length})\n                  </Text>\n                </>\n              )\n            }\n            data={audience}\n            renderItem={renderItem}\n            numColumns={4}\n            keyExtractor={(item) => item.user_id.toString()}\n            removeClippedSubviews\n            getItemLayout={getItemLayout}\n          />\n        )}\n      </View>\n\n      {/* <ScrollView\n        contentContainerStyle={styles.body}\n        refreshControl={\n          <RefreshControl refreshing={loading} onRefresh={getRoom} />\n        }\n        removeClippedSubviews={Platform.OS === \"android\"}\n      >\n        {!loading && (\n          <>\n            <Text style={styles.topic}>{channel?.topic}</Text>\n            \n            <View style={styles.usersContainer}>\n              {speakers?.map(renderUser)}\n            </View>\n            <Text style={styles.sectionTitle}>Followed by speakers</Text>\n            <View style={styles.usersContainer}>\n              {followedBySpeakers?.map(renderUser)}\n            </View>\n            <Text style={styles.sectionTitle}>Audience</Text>\n            <View style={styles.usersContainer}>\n              {audience?.map(renderUser)}\n            </View>\n          </>\n        )}\n      </ScrollView> */}\n      <View style={styles.footer}>\n        <TouchableOpacity\n          style={[styles.leaveButton, { backgroundColor: theme.bg2 }]}\n          disabled={loading}\n          onPress={() => {\n            leave && leave();\n            goBack();\n          }}\n        >\n          <Text style={[styles.leaveButtonTitle]}>✌️ Leave quietly</Text>\n        </TouchableOpacity>\n        <View style={[styles.raiseHandButton, { backgroundColor: theme.bg2 }]}>\n          <MaterialCommunityIcons\n            name=\"hand-right\"\n            size={25}\n            style={{ marginRight: 2 }}\n            color={theme.fg}\n          />\n        </View>\n      </View>\n    </Screen>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    width: \"100%\",\n  },\n  body: {\n    borderTopRightRadius: 40,\n    borderTopLeftRadius: 40,\n    width: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flex: 1,\n  },\n  list: {\n    padding: 24,\n  },\n  topic: {\n    fontFamily: \"Nunito-Bold\",\n    color: \"#454245\",\n    fontSize: 15,\n  },\n\n  usersContainer: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    paddingVertical: 16,\n  },\n\n  sectionTitle: {\n    color: \"#d7d5d8\",\n    marginLeft: 16,\n    fontFamily: \"Nunito-Bold\",\n  },\n\n  footer: {\n    height: 72,\n    width: \"100%\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingHorizontal: 16,\n  },\n  leaveButton: {\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    backgroundColor: \"#B8B7B9\",\n    borderRadius: 24,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  leaveButtonTitle: {\n    fontFamily: \"Nunito-Bold\",\n    color: \"#8E4B60\",\n  },\n  raiseHandButton: {\n    padding: 8,\n    backgroundColor: \"#B8B7B9\",\n    borderRadius: 24,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginLeft: \"auto\",\n  },\n});\n\nexport default Room;\n","import { RouteProp } from \"@react-navigation/native\";\nimport { StackNavigationProp } from \"@react-navigation/stack\";\nimport React, { FC } from \"react\";\nimport {\n  ActivityIndicator,\n  Image,\n  RefreshControl,\n  ScrollView,\n  StyleSheet,\n  Text,\n  View,\n} from \"react-native\";\nimport { useQuery } from \"react-query\";\nimport defaultAvatar from \"../assets/default-avatar\";\nimport Flex from \"../components/flex\";\nimport Screen from \"../components/screen\";\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport { useTheme } from \"../contexts/theme/context\";\nimport { APIResult } from \"../models/api\";\nimport { UserProfile } from \"../models/user\";\nimport { StackParamList } from \"../navigator\";\nimport req from \"../utils/req\";\nimport dayjs from \"dayjs\";\nimport { useRoom } from \"../contexts/room/context\";\nimport { authActions } from \"../slices/authSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Touchable from \"../components/touchable\";\nimport { RootState } from \"../store/store\";\n\ninterface Props {\n  route: RouteProp<StackParamList, \"UserProfile\">;\n  navigation: StackNavigationProp<StackParamList, \"UserProfile\">;\n}\n\nconst UserProfileScreen: FC<Props> = ({ route }) => {\n  const { isLoading, error, data, refetch } = useQuery(\n    \"user_profile\" + route.params.user_id,\n    () => getUser()\n  );\n  const { theme } = useTheme();\n  const { leave } = useRoom();\n  const dispatch = useDispatch();\n  const isCurrentUser = useSelector(\n    (state: RootState) =>\n      state.auth.user_profile?.user_id === route.params.user_id\n  );\n\n  const getUser = async () => {\n    const res = await req(\"/get_profile\", {\n      method: \"POST\",\n      body: { user_id: route.params.user_id },\n    });\n    const resJson: APIResult<{ user_profile: UserProfile }> = await res.json();\n    console.log(\"user profile\", resJson);\n    return resJson.user_profile;\n  };\n\n  const logout = () => {\n    dispatch(authActions.logout());\n  };\n\n  return (\n    <Screen>\n      {isLoading ? (\n        <Flex justify=\"center\" align=\"center\">\n          <ActivityIndicator size=\"large\" color={theme.fg2} />\n        </Flex>\n      ) : (\n        <ScrollView\n          refreshControl={\n            <RefreshControl refreshing={isLoading} onRefresh={refetch} />\n          }\n          contentContainerStyle={styles.container}\n        >\n          <Image\n            source={{ uri: data?.photo_url ?? defaultAvatar }}\n            style={styles.avatar}\n          />\n          <Text style={[styles.userName, { color: theme.fg }]}>\n            {data?.name}\n          </Text>\n          <Text style={[styles.username, { color: theme.fg2 }]}>\n            @{data?.username}\n          </Text>\n          <Flex direction=\"row\" style={{ marginTop: 16 }}>\n            <Text style={[styles.followCount, { color: theme.fg2 }]}>\n              <Text style={[styles.followCountNumber, { color: theme.fg }]}>\n                {data?.num_followers}\n              </Text>{\" \"}\n              followers\n            </Text>\n\n            <Text\n              style={[styles.followCount, { marginLeft: 16, color: theme.fg2 }]}\n            >\n              <Text style={[styles.followCountNumber, { color: theme.fg }]}>\n                {data?.num_following}\n              </Text>{\" \"}\n              followings\n            </Text>\n          </Flex>\n          <Text style={[styles.bio, { color: theme.fg2 }]}>{data?.bio}</Text>\n          {(data?.twitter || data?.instagram) && (\n            <Flex direction=\"row\" style={{ marginTop: 16 }}>\n              {data?.twitter && (\n                <Text\n                  style={[\n                    styles.followCount,\n                    { color: theme.fg2, marginRight: 16 },\n                  ]}\n                >\n                  <MaterialCommunityIcons\n                    name=\"twitter\"\n                    color=\"#5B549F\"\n                    size={20}\n                  />{\" \"}\n                  {data?.twitter}\n                </Text>\n              )}\n              {data?.instagram && (\n                <Text style={[styles.followCount, { color: theme.fg2 }]}>\n                  <MaterialCommunityIcons\n                    name=\"instagram\"\n                    color=\"#5B549F\"\n                    size={20}\n                  />{\" \"}\n                  {data?.instagram}\n                </Text>\n              )}\n            </Flex>\n          )}\n\n          <View style={styles.inviterContainer}>\n            <Image\n              source={{\n                uri: data?.invited_by_user_profile.photo_url ?? defaultAvatar,\n              }}\n              style={styles.inviterAvatar}\n            />\n            <Flex style={{ marginLeft: 8 }}>\n              <Text style={[styles.joinDate, { color: theme.fg2 }]}>\n                Joined {dayjs(data?.time_created).format(\"MMM DD, YYYY\")}\n              </Text>\n              <Text style={[styles.inviter, { color: theme.fg2 }]}>\n                Nominated by{\" \"}\n                <Text style={{ color: theme.fg }}>\n                  {data?.invited_by_user_profile.name}\n                </Text>\n              </Text>\n            </Flex>\n          </View>\n          {isCurrentUser && (\n            <Touchable style={styles.button} onPress={logout}>\n              <Text style={styles.buttonTitle}>Logout</Text>\n            </Touchable>\n          )}\n        </ScrollView>\n      )}\n    </Screen>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: { padding: 16 },\n  avatar: {\n    width: 72,\n    height: 72,\n    borderRadius: 32,\n  },\n  userName: {\n    fontFamily: \"Nunito-Bold\",\n    fontSize: 16,\n    marginTop: 16,\n  },\n  username: {\n    fontFamily: \"Nunito-Regular\",\n    fontSize: 14,\n    marginTop: 8,\n  },\n  followCount: {\n    fontFamily: \"Nunito-Regular\",\n    fontSize: 15,\n  },\n  followCountNumber: {\n    fontFamily: \"Nunito-Bold\",\n    fontSize: 17,\n  },\n  bio: {\n    marginTop: 16,\n    fontFamily: \"Nunito-SemiBold\",\n    fontSize: 14,\n  },\n  inviterContainer: {\n    marginTop: 40,\n    flexDirection: \"row\",\n  },\n  inviterAvatar: {\n    width: 40,\n    height: 40,\n    borderRadius: 16,\n  },\n  joinDate: {\n    fontFamily: \"Nunito-SemiBold\",\n  },\n  inviter: {\n    fontFamily: \"Nunito-SemiBold\",\n  },\n\n  button: {\n    width: 135,\n    backgroundColor: \"#5576AB\",\n    height: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    marginTop: 24,\n    borderRadius: 24,\n  },\n  buttonTitle: {\n    color: \"#fff\",\n    fontFamily: \"Nunito-SemiBold\",\n    fontSize: 16,\n  },\n});\n\nexport default UserProfileScreen;\n","import React from \"react\";\nimport {\n  CardStyleInterpolators,\n  createStackNavigator,\n} from \"@react-navigation/stack\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport Login from \"./screens/login\";\nimport VerificationCode from \"./screens/verification-code\";\nimport Home from \"./screens/home\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"./store/store\";\nimport Room from \"./screens/room\";\nimport { useTheme } from \"./contexts/theme/context\";\nimport UserProfile from \"./screens/user-profile\";\nimport { User } from \"./models/channel\";\n\nexport type StackParamList = {\n  Login: undefined;\n  VerificationCode: { phonenumber: string };\n  Home: undefined;\n  Room: { channel_id: number; channel: string };\n  UserProfile: { user_id: number; user: User };\n};\n\nconst Stack = createStackNavigator<StackParamList>();\n\nconst Navigator = () => {\n  const authState = useSelector((state: RootState) => state.auth);\n  const { theme } = useTheme();\n\n  return (\n    <NavigationContainer>\n      <Stack.Navigator\n        screenOptions={{\n          headerShown: true,\n          headerStyle: {\n            backgroundColor: theme.bg,\n            borderBottomWidth: 0,\n            shadowRadius: 0,\n            shadowOffset: {\n              height: 0,\n              width: 0,\n            },\n            elevation: 0,\n          },\n          headerTintColor: theme.fg,\n          animationEnabled: true,\n          cardStyleInterpolator: CardStyleInterpolators.forHorizontalIOS,\n        }}\n      >\n        {!!authState.auth_token ? (\n          <>\n            <Stack.Screen\n              name=\"Home\"\n              component={Home}\n              options={{ title: \"All rooms\", headerShown: false }}\n            />\n            <Stack.Screen\n              name=\"Room\"\n              component={Room}\n              options={{ title: \"\" }}\n            />\n            <Stack.Screen\n              name=\"UserProfile\"\n              component={UserProfile}\n              options={{ title: \"\" }}\n            />\n          </>\n        ) : (\n          <>\n            <Stack.Screen\n              name=\"Login\"\n              component={Login}\n              options={{ title: \"\" }}\n            />\n            <Stack.Screen\n              name=\"VerificationCode\"\n              component={VerificationCode}\n              options={{ title: \"\" }}\n            />\n          </>\n        )}\n      </Stack.Navigator>\n    </NavigationContainer>\n  );\n};\n\nexport default Navigator;\n","module.exports = __webpack_public_path__ + \"./fonts/Nunito-Regular.ttf\";","module.exports = __webpack_public_path__ + \"./fonts/Nunito-SemiBold.ttf\";","module.exports = __webpack_public_path__ + \"./fonts/Nunito-Bold.ttf\";","module.exports = __webpack_public_path__ + \"./fonts/Nunito-Light.ttf\";","export default {};\n","import React, { Component, ComponentType, FC, useContext } from \"react\";\nimport RtcEngine, { RtcEngineConfig } from \"react-native-agora\";\nimport { connect } from \"react-redux\";\nimport { RootState } from \"../store/store\";\n\ninterface ContextValue {\n  engine: null | RtcEngine;\n}\n\nexport const RtcContext = React.createContext({ engine: null } as ContextValue);\n\ntype RtcProviderProps = ReturnType<typeof mapStateToProps>;\n\nclass RtcProvider extends Component<RtcProviderProps> {\n  state = {\n    rtcEngine: null as null | RtcEngine,\n  };\n\n  componentDidMount() {\n    if (this.props.authState.auth_token) this.initRtc();\n  }\n\n  componentDidUpdate(prevProps: RtcProviderProps) {\n    // on login\n    if (!prevProps.authState.auth_token && this.props.authState.auth_token) {\n      this.initRtc();\n    }\n\n    // on logout\n    if (prevProps.authState.auth_token && !this.props.authState.auth_token) {\n      this.state.rtcEngine?.destroy();\n      console.log(\"destroyed rtc engine, reason: logout\");\n    }\n  }\n\n  initRtc = async () => {\n    console.log(\"connecting to rtc engine\");\n    try {\n      let rtcEngine = await RtcEngine.createWithConfig(\n        new RtcEngineConfig(\"938de3e8055e42b281bb8c6f69c21f78\")\n      );\n      rtcEngine.setDefaultAudioRoutetoSpeakerphone(true);\n      rtcEngine.enableAudioVolumeIndication(1500, 3, false);\n      rtcEngine.muteLocalAudioStream(true);\n\n      this.setState({ rtcEngine });\n      console.log(\"rtc engine initialized\");\n    } catch (err) {\n      console.log(\"error initializing rtc engine\", err);\n    }\n  };\n\n  render() {\n    return (\n      <RtcContext.Provider value={{ engine: this.state.rtcEngine }}>\n        {this.props.children}\n      </RtcContext.Provider>\n    );\n  }\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  authState: state.auth,\n});\n\nexport default connect(mapStateToProps)(RtcProvider);\n\nexport const useRtc = () => useContext(RtcContext);\n\nexport interface WithRtcProp {\n  rtc: ContextValue;\n}\n\nexport const withRtc = (C: any) => {\n  return class extends Component {\n    render() {\n      return (\n        <RtcContext.Consumer>\n          {(value) => <C rtc={value} {...this.props} />}\n        </RtcContext.Consumer>\n      );\n    }\n  };\n};\n","import AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport React, { FC, useEffect, useState } from \"react\";\nimport { StatusBar } from \"react-native\";\nimport { ThemeContext } from \"./context\";\nimport { themes } from \"./themes\";\n\nexport const ThemeProvider: FC = ({ children }) => {\n  const [currentThemeName, setCurrentThemeName] = useState<keyof typeof themes>(\n    \"defaultTheme\"\n  );\n  const [loadingTheme, setLoadingTheme] = useState(true);\n\n  useEffect(() => {\n    loadThemeFromStorage();\n  }, []);\n\n  useEffect(() => {\n    AsyncStorage.setItem(\"theme\", currentThemeName);\n    if (currentThemeName === \"defaultTheme\")\n      StatusBar.setBarStyle(\"dark-content\");\n    if (currentThemeName === \"nightTheme\")\n      StatusBar.setBarStyle(\"light-content\");\n  }, [currentThemeName]);\n\n  const loadThemeFromStorage = async () => {\n    setLoadingTheme(true);\n    const themeName = (await AsyncStorage.getItem(\"theme\")) as\n      | keyof typeof themes\n      | undefined;\n    if (themeName) {\n      setCurrentThemeName(themeName);\n    }\n    setLoadingTheme(false);\n  };\n\n  const toggleTheme = () => {\n    if (currentThemeName === \"defaultTheme\") {\n      setCurrentThemeName(\"nightTheme\");\n    } else {\n      setCurrentThemeName(\"defaultTheme\");\n    }\n  };\n\n  if (loadingTheme) return null;\n\n  return (\n    <ThemeContext.Provider\n      value={{ theme: themes[currentThemeName], toggleTheme }}\n    >\n      {children}\n    </ThemeContext.Provider>\n  );\n};\n","import React, { FC, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport PubNub from \"pubnub\";\nimport { Channel } from \"../../models/channel\";\nimport { RootState } from \"../../store/store\";\nimport req from \"../../utils/req\";\nimport { useRtc } from \"../rtcContext\";\nimport { RoomContext, ContextValue } from \"./context\";\nimport { APIResult } from \"../../models/api\";\nimport { roomActions } from \"../../slices/roomSlice\";\n\nexport const RoomProvider: FC = ({ children }) => {\n  const room = useSelector((state: RootState) => state.room.currentRoom);\n  const [loading, setLoading] = useState(false);\n  const { engine } = useRtc();\n  const [pubnub, setPubnub] = useState<PubNub | null>(null);\n  const authState = useSelector((state: RootState) => state.auth);\n  const dispatch = useDispatch();\n\n  const joinRoom = async (channel: string) => {\n    if (room?.channel === channel) return;\n    if (room) {\n      leaveRoom();\n    }\n    setLoading(true);\n    const res = await req(\"/join_channel\", {\n      method: \"POST\",\n      body: {\n        channel: channel,\n        attribution_source: \"feed\",\n        attribution_details: \"eyJpc19leHBsb3JlIjpmYWxzZSwicmFuayI6MX0=\",\n      },\n    });\n    const resJson: APIResult<Channel> = await res.json();\n    console.log(\"joined channel result\", resJson);\n    setLoading(false);\n    dispatch(roomActions.setRoom(resJson));\n    initRTC(resJson);\n    initPubnub(resJson);\n    return resJson;\n  };\n\n  const leaveRoom = async () => {\n    const _channel = room?.channel;\n    dispatch(roomActions.setRoom(null));\n    engine?.leaveChannel();\n    engine?.removeAllListeners();\n    pubnub?.unsubscribeAll();\n    pubnub?.stop();\n    const res = await req(\"/leave_channel\", {\n      method: \"POST\",\n      body: {\n        channel: _channel,\n      },\n    });\n    const resJson = await res.json();\n    dispatch(roomActions.setSpeakingUsers([]));\n\n    console.log(\"leave channel result\", resJson);\n    return resJson;\n  };\n\n  const initRTC = async (_channel: Channel) => {\n    joinChannel(_channel);\n\n    // engine?.addListener(\"Warning\", (warn) => {\n    //   console.log(\"Warning\", warn);\n    // });\n\n    // engine?.addListener(\"Warning\", (warn) => {\n    //   console.log(\"Warning\", warn);\n    // });\n\n    // engine?.addListener(\"Error\", (err) => {\n    //   console.log(\"Error\", err);\n    // });\n\n    // engine?.addListener(\"UserJoined\", (uid, elapsed) => {\n    //   console.log(\"UserJoined\", uid, elapsed);\n    // });\n\n    // engine?.addListener(\"UserOffline\", (uid, reason) => {\n    //   console.log(\"UserOffline\", uid, reason);\n    // });\n\n    // // If Local user joins RTC channel\n    // engine?.addListener(\"JoinChannelSuccess\", (channel, uid, elapsed) => {\n    //   console.log(\"JoinChannelSuccess\", channel, uid, elapsed);\n    // });\n\n    engine?.addListener(\"AudioVolumeIndication\", (speakers) => {\n      console.log(\"loadest spkears\", speakers);\n      // setSpeakingUsers(speakers.map((s) => s.uid));\n      dispatch(roomActions.setSpeakingUsers(speakers.map((s) => s.uid)));\n    });\n  };\n\n  const joinChannel = async (_channel: Channel) => {\n    // Join Channel using null token and channel name\n    console.log(\"channel token\", _channel.token);\n    if (!_channel || !_channel.token) return;\n    await engine?.joinChannel(\n      _channel.token,\n      _channel.channel,\n      null,\n      authState.user_profile?.user_id ?? 0\n    );\n  };\n\n  const initPubnub = (_channel: Channel) => {\n    console.log(\"pubnub token\", _channel.pubnub_token);\n    const _pubnub = new PubNub({\n      publishKey: \"pub-c-6878d382-5ae6-4494-9099-f930f938868b\",\n      subscribeKey: \"sub-c-a4abea84-9ca3-11ea-8e71-f2b83ac9263d\",\n      authKey: _channel.pubnub_token,\n      uuid: authState.user_profile?.user_id.toString(),\n      origin: \"clubhouse.pubnub.com\",\n      presenceTimeout: _channel.pubnub_heartbeat_value,\n      heartbeatInterval: room?.pubnub_heartbeat_interval,\n    });\n    setPubnub(_pubnub);\n\n    _pubnub?.subscribe({\n      channels: [\n        \"users.\" + authState.user_profile?.user_id,\n        \"channel_user.\" +\n          _channel.channel +\n          \".\" +\n          authState.user_profile?.user_id,\n        \"channel_all.\" + _channel.channel,\n      ],\n    });\n\n    _pubnub?.addListener({\n      message: handlePubnubMessage,\n      status: (event) => console.log(\"pubnub status\", event),\n    });\n  };\n\n  const handlePubnubMessage = (msg: any) => {\n    console.log(\"pubnub message:\", msg);\n    const { message } = msg;\n    // if (message.channel !== room?.channel) return;\n    if (message.action === \"join_channel\") {\n      onPubnubUserJoined(message);\n    }\n    if (message.action === \"leave_channel\") {\n      onPubnubUserLeaved(message);\n    }\n  };\n\n  const onPubnubUserJoined = (message: any) => {\n    const user = message.user_profile;\n\n    dispatch(roomActions.addRoomUser(user));\n  };\n\n  const onPubnubUserLeaved = (message: any) => {\n    dispatch(roomActions.removeRoomUser({ user_id: message.user_id }));\n  };\n\n  const value: ContextValue = {\n    loading,\n    rtc: engine,\n    pubnub,\n    join: joinRoom,\n    leave: leaveRoom,\n  };\n\n  return <RoomContext.Provider value={value}>{children}</RoomContext.Provider>;\n};\n","import React from \"react\";\nimport { registerRootComponent } from \"expo\";\nimport { Provider as ReduxProvider } from \"react-redux\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\nimport PubNub from \"pubnub\";\nimport { PubNubProvider, usePubNub } from \"pubnub-react\";\nimport { ToastProvider } from \"react-native-fast-toast\";\nimport App from \"./App\";\nimport { store, persistor } from \"./src/store/store\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport RtcProvider from \"./src/contexts/rtcContext\";\nimport { ThemeProvider } from \"./src/contexts/theme/provider\";\nimport { RoomProvider } from \"./src/contexts/room/provider\";\n\nconst queryClient = new QueryClient();\n\nconst Root = () => (\n  <ReduxProvider store={store}>\n    <PersistGate persistor={persistor}>\n      <QueryClientProvider client={queryClient}>\n        <RtcProvider>\n          <ToastProvider>\n            <ThemeProvider>\n              <RoomProvider>\n                <App />\n              </RoomProvider>\n            </ThemeProvider>\n          </ToastProvider>\n        </RtcProvider>\n      </QueryClientProvider>\n    </PersistGate>\n  </ReduxProvider>\n);\n\nregisterRootComponent(Root);\n","import React, { useContext } from \"react\";\nimport { Theme, themes } from \"./themes\";\n\ninterface ContextValue {\n  theme: Theme;\n  toggleTheme(): void;\n}\n\nexport const ThemeContext = React.createContext({\n  theme: themes[\"nightTheme\"],\n  toggleTheme: () => {},\n} as ContextValue);\n\nexport const useTheme = () => useContext(ThemeContext);\n","import { store } from \"../store/store\";\nimport { getToken } from \"./token\";\n\nexport const API_URL = \"https://www.clubhouseapi.com/api\";\nconst API_BUILD_ID = \"304\";\nconst API_BUILD_VERSION = \"0.1.28\";\nconst API_UA = `clubhouse/${API_BUILD_ID} (iPhone; iOS 14.4; Scale/2.00)`;\n\nexport const HEADERS = {\n  \"CH-Languages\": \"en-JP,ja-JP\",\n  \"CH-Locale\": \"en_JP\",\n  Accept: \"application/json\",\n  \"Accept-Language\": \"en-JP;q=1, ja-JP;q=0.9\",\n  \"Accept-Encoding\": \"gzip, deflate\",\n  \"CH-AppBuild\": API_BUILD_ID,\n  \"CH-AppVersion\": API_BUILD_VERSION,\n  \"User-Agent\": API_UA,\n  Connection: \"close\",\n  \"Content-Type\": \"application/json; charset=utf-8\",\n  Host: \"www.clubhouseapi.com\",\n  // \"Cookie\": __cfduid={secrets.token_hex(21)}{random.randint(1, 9)}\n};\n\ninterface Opts {\n  method?: \"GET\" | \"POST\";\n  body?: object;\n}\n\nconst req = (path: string, opts?: Opts) => {\n  const token = store.getState().auth.auth_token;\n  if (token) {\n    // @ts-ignore\n    HEADERS[\"Authorization\"] = `Token ${token}`;\n  }\n  return fetch(API_URL + path, {\n    method: opts?.method ?? \"GET\",\n    headers: HEADERS,\n    body: opts?.body ? JSON.stringify(opts?.body) : undefined,\n  });\n};\n\nexport default req;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { Channel, User } from \"../models/channel\";\n\nexport interface AuthState {\n  currentRoom: Channel | null;\n  speakingUsers: number[];\n}\n\nconst initialState: AuthState = {\n  currentRoom: null,\n  speakingUsers: [],\n};\n\nconst roomSlice = createSlice({\n  name: \"room\",\n  initialState,\n  reducers: {\n    setSpeakingUsers(state, action: PayloadAction<AuthState[\"speakingUsers\"]>) {\n      state.speakingUsers = action.payload;\n    },\n    setRoom(state, action: PayloadAction<Channel | null>) {\n      state.currentRoom = action.payload;\n    },\n    addRoomUser(state, action: PayloadAction<User>) {\n      state.currentRoom?.users.push(action.payload);\n    },\n    removeRoomUser(state, action: PayloadAction<{ user_id: number }>) {\n      if (state.currentRoom?.users)\n        state.currentRoom.users = state.currentRoom?.users.filter(\n          (u) => u.user_id !== action.payload.user_id\n        );\n    },\n  },\n});\n\nexport const roomReducer = roomSlice.reducer;\n\nexport const roomActions = roomSlice.actions;\n"],"sourceRoot":""}